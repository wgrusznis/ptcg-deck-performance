<script>
const regions = {
    result: {x1: 80, x2: 180, y1: 400, y2: 480},
    turns: {x1: 80, x2: 180, y1: 200, y2: 280}
};

let analysisResults = [];
let worker; // Zmienna przechowujÄ…ca worker

(async () => {
    // Inicjalizacja Tesseract
    worker = await Tesseract.createWorker({
        logger: m => console.log(m)
    });
    
    await worker.loadLanguage('eng');
    await worker.initialize('eng');
    await worker.setParameters({
        tessedit_char_whitelist: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',
        tessedit_pageseg_mode: Tesseract.PSM.SINGLE_WORD
    });
})();

async function analyzeFiles() {
    // Dodaj sprawdzenie czy worker jest gotowy
    if (!worker || !worker.recognize) {
        alert('OCR engine is still initializing. Please wait a moment and try again.');
        return;
    }

    // Reszta kodu pozostaje bez zmian...
}
</script>
